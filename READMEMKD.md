# KeypadMatrix_assembler_386
Assembly code for 386 processor which can scan the keypad matrix consisted of 3*4 rows and columns
Овој код ја објаснува работата на исчитување на матрична тастатура.Тастатурата е составена од 12 тастери наместени во 3 редици и 4 колони.
Бидејќи тастатурата има 12 тастери, односно 3 редици и 4 колони, не е потребен голем број на пинови од паралелната порта или од друг порт на периферијата за исчитување на истата.Затоа постапката е објасната подоле.
Постапката на добивање на исчитаната вредност од тастатурата е таква што е потребно да се изврши мултиплексирање.Мултиплексирањето е постапката при која што поставуваме логичка единица(Високо ниво) на само еден излезен пин, скенираме и бараме каде ќе се појави на еден од повеќето влезни пинови.Начинот на којшто се врши мултиплексирањето ќе биде објаснето подетално.
Користиме само 7 пинови, од кои 3 пинови се излезни, а 4 влезни.Можеме да направиме 2д матрица на која може да се види визуелно кој тастер, каде е поставен на матрицата.
Ред пинови				| | | | | |
					1 | 2 | 3  | прв колона пин
                                                               4 | 5 | 6 | втор колона пин
7 | 8 | 9 | трет колона пин
             ^| 0 | # | четврт колона пин
На 2д матрицата, над секоја цифра(тастер) има физички спроводник кој од горе продолжува право надолу и ги опфаќа сите тастери кои се наоѓаат во тој ред.Краевите на тастерот се надоврзани со друг спроводник кој продолжува на десно и ги опфаќа сите тастери кои се во таа колона.Мултиплексирањето e овозможено така што трите пинови кои се користат за означување на редовите ги користиме да поставиме логичка единица (1 – високо ниво) или логичка нула(ниско ниво) .Постапката е таква, да мора на еден од тие пинови(пинови за редови) да поставиме логичка единица(само логичка единица) на другите останати пиноови само логичка нула, а со пиновите за колони да скенираме.Пиновите за редови(редици) ќе ги имаат следниве вредности – 001, 010, 100.Од десно кон лево на овие комбинации тие ќе имаат посебен пин кој ќе влегува во паралелната порта и ќе го користиме Status регистарот.Status регистарот е искористен бидејќи тој може само да исчитува вредности од надворешната периферија.Другите пинови(останатите четири, за колоните) се пинови кои се поврзани на паралелната порта и пристапуваат до Control регистарот.Да се вратиме на мултиплексирачката постапка, односно на пиновите за редици и комбинациите за кои пиновите треба да ги добијат вредностите за да може тастатурата да работи коректно.На пиновите на редиците ја донесеме комбинацијата 001, на првиот и вториот пин носиме логичка нула(‘0‘, логичка нула, нула волти), а на третиот најдесен пин, носиме логичка единица(‘1‘, висок логичко ниво).После постапката за редови,треба да ја исчитаме(скенираме) вредноста на колоните, и со вредноста во регистарот која ќе ја добиеме ќе знаеме дали е притиснат одреден тастер.Можеме да имаме комбинации 0001, 0010, 0100 и 1000 во Status регистарот.Доколку во Status регистарот ја имаме вредност 0001, а во Control регистарот 001, тоа значи дека тастерот ‘#’ e притиснат.
